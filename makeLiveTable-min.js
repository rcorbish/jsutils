function makeLiveTable(e,t,l,r,o){function n(e){scrollPos=e.scrollTop,0!==scrollPos||i?i&&(i=!1,o&&o(e)):(i=!0,r&&r(e))}function d(e){var t=this.querySelector("tbody"),r=t.querySelector("tr"),o=document.createElement("tr");o.className="newly-added-row";for(var n=0;n<e.length;n++){var d=document.createElement("td");d.style["min-width"]=l[n%l.length],d.style.width=l[n%l.length],d.innerHTML=e[n],o.appendChild(d)}t.insertBefore(o,r)}if(!(e instanceof HTMLTableElement||(e=document.querySelector(e),e instanceof HTMLTableElement)))throw"Cannot find a valid HTML table from "+e;e.style.display="none";var i=!1,s=e.querySelector("thead");if(!s){var a=e.querySelector("tr");s=document.createElement("thead"),e.insertBefore(s,e.firstChild),s.appendChild(a)}for(var y=s.querySelectorAll("tr"),c=0;c<y.length;c++)for(var h=y[c].querySelectorAll("td,th"),f=0;f<h.length;f++)h[f].style["min-width"]=l[f%l.length],h[f].style.width=l[f%l.length];var u=e.querySelector("tbody");u||(u=document.createElement("tbody"),e.insertBefore(u,s));for(var m=u.querySelectorAll("tr"),c=0;c<m.length;c++)for(var h=m[c].querySelectorAll("td"),f=0;f<h.length;f++)h[f].style["min-width"]=l[f%l.length],h[f].style.width=l[f%l.length];u.onscroll=function(e){n(e.target)},n(u),e.addRow=d.bind(e),s.style.display="block",s.style["overflow-x"]="hidden",u.style.display="block",u.style["overflow-x"]="hidden",u.style["overflow-y"]="scroll",e.style["table-layout"]="fixed",e.style["overflow-x"]="hidden",e.style["overflow-y"]="hidden",e.style.height=t,e.style.display="block",u.style.height=e.offsetHeight-u.offsetTop+"px"}
